<outputhandlers class="org.ramadda.repository.output.ExecutableOutputHandler">


  <outputhandler>
  <command label="Convert HMMER File" id="bio_hmmer_convert"  icon="/genomics/hmmer.png"   command="${bio.hmmertools}/hmmconvert" >
    <help>This will convert the given HMMER binary file to text</help>
    <arg value="${entry.file}" type="entry" entryType="bio_hmmer_index" primary="true"></arg>
    <output type="bio_hmmer_index" stdout="true" filename="${entry.filebase}.hmm"/>
   </command>
  </outputhandler>


  <outputhandler >
  <command label="Run HMMSTAT" id="bio_hmmer_stat"  icon="/genomics/hmmer.png"   command="${bio.hmmertools}/hmmstat" >
    <help>Run HMMSTAT</help>
    <arg type="flag" label="" help="Compute score for E-value (E) for database of (Z) sequences" value="--eval2score"></arg>
    <arg type="flag" label="" help="Compute E-value for score (S) for database of (Z) sequences" value="--score2eval"></arg>
    <arg type="int" size="5" label="Database size" help="Database size (in seqs) for --eval2score or --score2eval" prefix="-Z"></arg>
    <arg type="int" size="5" label="Database size (M bases)" help="Database size (M bases) (DNA only, if search on both strands)" prefix="--baseZ"></arg>
    <arg type="int" size="5" label="Database size (M bases)" help="Database size (M bases) (DNA only, if search on single strand)" prefix="--baseZ1"></arg>
    <arg type="float" size="5" label="E-value threshold" help="For eval2score" prefix="-E"></arg>
    <arg type="float" size="5" label="Score input" help="For score2eval" prefix="-S"></arg>
    <arg value="${entry.file}"   type="entry" entryType="bio_hmmer_index" primary="true"></arg>
    <output showResults="true" stdout="true"/>
   </command>
  </outputhandler>


  <outputhandler>
  <command label="Run HMMEMIT" id="bio_hmmer_emit"  icon="/genomics/hmmer.png"   command="${bio.hmmertools}/hmmemit" >
    <help>This runs hmmemit</help>
    <arg type="int" size="5" label="Number of sequences" help="Number of sequences to sample" prefix="-N"></arg>
    <arg type="flag" group="emitoptions" label="" help="Emit alignment" value="-a"></arg>
    <arg type="flag" group="emitoptions" label="" help="Emit simple majority-rule consensus sequence" value="-c"></arg>
    <arg type="flag" group="emitoptions" label="" help="Emit fancier consensus sequence" value="-C"></arg>
    <arg type="flag" group="emitoptions" label="" help="Sample sequences from profile, not core model" value="-p"></arg>

    <arg type="category" label="Options controlling emission from profiles"/>

    <arg type="int" size="5" label="Expected length" help="Set expected length from profile to" prefix="-L"></arg>
    <arg type="flag" group="configure_profile" label="" help="Configure profile in multihit local mode" value="--local"></arg>
    <arg type="flag" group="configure_profile" label="" help="Configure profile in unilocal mode" value="--unilocal"></arg>
    <arg type="flag" group="configure_profile" label="" help="Configure profile in multihit glocal mode" value="--glocal"></arg>
    <arg type="flag" group="configure_profile" label="" help="Configure profile in unihit glocal mode" value="--uniglocal"></arg>

    <arg type="category" label="Options controlling fancy consensus emission"></arg>
    <arg type="float" size="5" label="Min L" help="Show consensus as 'any' (X/N) unless &gt;= this fraction" prefix="--minl"></arg>
    <arg type="float" size="5" label="Min U" help="Show consensus as upper case if  prefix this fraction" prefix="--minu"/>
    <arg value="${entry.file}"  type="entry" entryType="bio_hmmer_index" primary="true"></arg>
    <output showResults="true" stdout="true"/>
   </command>
  </outputhandler>


  <outputhandler>
  <command label="Run HMMFETCH" id="bio_hmmer_fetch"  icon="/genomics/hmmer.png"   command="${bio.hmmertools}/hmmfetch" >
    <help>This runs hmmfetch</help>
    <arg value="${entry.file}"  type="entry" entryType="bio_hmmer_index" primary="true"></arg>
    <arg type="string" label="Key" size="35" required="true"></arg>
    <output type="bio_hmmer_index" stdout="true" filename="${entry.filebase}.hmm"/>
   </command>
  </outputhandler>


  <outputhandler>
    <command command="${bio.picard}" label="Convert FASTQ to SAM" id="bio_fastq_to_sam"  outputToStderr="true" icon="/genomics/picard.png">
      <help>Run Picard to convert FASTQ to SAM</help>
      <output type="bio_sam" pattern=".*\.sam"/>
      <arg value="FastqToSam.jar"></arg>
      <arg value="FASTQ=${entry.file}"  type="entry" entryType="bio_fastq" primary="true"></arg>
      <arg value="OUTPUT=${entry.filebase}.sam"></arg>
      <arg label="Sample Name" required="true" type="string" size="60" value="SAMPLE_NAME=${value}">
        <help>Sample name to insert into the read group header  Required.</help>
      </arg>
      <arg type="enumeration" label="Quality Format" values=":NA,Solexa,Illumina,Standard" value="QUALITY_FORMAT=${value}">
<help><![CDATA[
A value describing how the quality values are encoded in the fastq.  Either Solexa for 
pre-pipeline 1.3 style scores (solexa scaling + 66), Illumina for pipeline 1.3 and above 
(phred scaling + 64) or Standard for phred scaled scores with a character shift of 33.  
If this value is not specified, the quality format will be detected automatically.  
Default value: null. Possible values: {Solexa, Illumina, Standard} 
]]></help>
</arg>
    </command>

  </outputhandler>


</outputhandlers>
