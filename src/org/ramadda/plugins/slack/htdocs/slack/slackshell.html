<html>
<title>Slack Shell</title>
<body>
<div class="ramadda-section">
<center><a href="${urlroot}/slack/index.html">Top</a></center>

The RAMADDA Slack Shell lets you access content and  data in your RAMADDA site directly from Slack. 


In Slack go to the Integrations page for your team. Under Configured Integrations select Slash Commands and add a new Slash Commands integration. You can choose any command (I've used "/r" or "/ramadda"). 


To configure this Slash Command enter your RAMADDA URL  - 
<a href="https://${hostname}${urlroot}//slack/api">https://${hostname}${urlroot}/slack/api</a>
- in the Configuration page. 
<center><img src="images/slashcommand.png" width="500"></center>
Before Saving the command copy the Token,  we'll use it to configure the RAMADDA side.

<br>

Now, go to your RAMADDA repository and log in as an admin. 
<ul>
<li> Under the Admin-&gt;Harvesters page add a New Harvester and select  Slack Harvester. 
<li> Open up the Run Settings and check on "Active on Start Up". This will enable this harvester.
<li> Now, copy the token you got from Slack into the harvester tokens field. You can have any number of Slash commands that point to this single harvester.
<li> Select the area in RAMADDA you want to provide access to.
Under the Base Folder select a RAMADDA entry. 
<li>  
The Slack Web Hook API URL is the way that RAMDDA can talk back to Slack. To enable this create an Incoming Web Hook in your Slack team and copy the URL that Slack provides into the RAMADDA harvester. If a Web Hook is provided then the responses from RAMADDA will be sent to the Slack Channel as a archived message. If it is not provided then responses are sent directly back to the user and are not part of the Channel.
<br>
Save the Slack Harvester and you should be good to go. 


<a name="commands"></a>
<h3>Slack Shell</h3>
You can do a number of things in RAMADDA through Slack. 
<p>
Search:
<pre>
/r search some search text
</pre>
<br>

The interface lets you navigate around RAMADDA like a command line:
<pre>
#Show the current entry 
/r pwd

#List the sub-entries of the current entry
/r ls

#change directory to a sub folder
/r cd some folder

#change directory to the top-level entry
/r cd

#cd up a couple
/r cd ../..
</pre>

You can enter multiple commands on one line separated by a semi-colon:
<pre>
/r pwd; ls; cd;
</pre>

<br>


<a name="new"></a>
Create wiki pages, web logs and other entries
<pre>
/r new &lt;folder or wiki or blog or note&gt; New entry name | Optional description or wiki text
</pre>


<p>
You can also define a slash command that has the RAMADDA command predefined. So you can add a slash command, e.g. "/cd", that maps to the URL:
<pre>
<a href="https://${hostname}${urlroot}/slack/slack/api">https://${hostname}${urlroot}/slack/slack/api?ramadda_command=cd</a>
</pre>
Create multiple slash commands, e.g.:
<pre>
<a href="https://${hostname}${urlroot}/slack/slack/api">https://${hostname}${urlroot}/slack/slack/api?ramadda_command=ls</a>
<a href="https://${hostname}${urlroot}/slack/slack/api">https://${hostname}${urlroot}/slack/slack/api?ramadda_command=pwd</a>
<a href="https://${hostname}${urlroot}/slack/slack/api">https://${hostname}${urlroot}/slack/slack/api?ramadda_command=new</a>
</pre>

Now in Slack you would just do:
<pre>
/cd &lt;some_entry&gt;
/ls
/etc
</pre>




<a name="monitors"></a>
<h3>RAMADDA Monitors and Slack Integration</h3>
You can add a monitor to your RAMADDA repository that will post a message to Slack when entries that match certain  search criteria are created.
<p>
Login to your RAMADDA and go to your User Settings-&gt;Monitors page.  Create a new Slack Monitor, specify is valid date range and any search
criteria (e.g.,text, spatial, type). Enter the  Incoming Web Hook URL you get from Slack. A link will be posted to slack when a new entry is created
that meets the search criteria.

</div>


<a name="search"></a>
<h3>Search</h3>

TBD


</div>
</body>
</html>

